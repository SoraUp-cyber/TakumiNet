<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Navbar de Comunidad de Juegos</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <link rel="stylesheet" href="../src/nav.css">
  <link rel="stylesheet" href="../src/index.css">
  <link rel="stylesheet" href="../src/footer.css">
  <link rel="stylesheet" href="../src/featuredGames.css">
<style>
  /* Estilos generales - Minimalista oscuro con acentos verdes */
.large_promo_section {
   background: linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.85)), 
                url('https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
  padding: 4rem 2rem;
  text-align: center;
  border-bottom: 1px solid #2e2e2e;
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  text-align: center;
  border-bottom: 1px solid #00ff55;
  color: #d4ffd4; /* texto en tono verde claro para contraste */
  
}
.promo-content {
  max-width: 800px;
  margin: 0 auto;
}

.promo-content h1 {
  color: #ffffff;
  font-size: 2.8rem;
  margin-bottom: 1.5rem;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.promo-content p {
  color: #cccccc;
  font-size: 1.2rem;
  margin-bottom: 2.5rem;
}

.promo-btn {
  display: inline-block;
  padding: 1.2rem 2.4rem;
  background-color: #4CAF50;
  color: #ffffff;
  text-decoration: none;
  border-radius: 6px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0,0,0,0.2);
}

.promo-btn:hover {
  background-color: #45a049;
  transform: translateY(-2px);
  box-shadow: 0 6px 8px rgba(0,0,0,0.3);
}







/* === CONTENEDOR PRINCIPAL === */
main.juegos-contenedor {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  padding:2rem 1rem;               /* Espaciado interno */
  margin: 0 auto;                   /* Centrado horizontal */
  width: 100%;
  max-width: 2100px;                /* Ancho m√°ximo deseado */      /* Fondo oscuro */
  color: #fff;                      /* Texto blanco */
  border-radius: 15px;                 /* Bordes completamente cuadrados */
  box-sizing: border-box;           /* Padding incluido en el ancho */
  overflow-x: hidden;               /* Evita scroll horizontal */
}

/* === SECCI√ìN INDIVIDUAL === */
.content-preview {
  background-color: #1a1a1a;
  border-radius: 1px;
  padding: 2rem;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
}

/* === T√çTULO DE SECCI√ìN === */
.content-preview h2 {
  font-size: 1.25rem; /* Equivale a 18px */

  margin-bottom: 1rem;
  font-weight: 600;
  color: #ffffff;
}

/* === BOT√ìN "VER M√ÅS" === */
.btn-ver-mas {
  display: inline-block;
  margin-bottom: 1.5rem;
  background-color: #00c853;
  color: #ffffff;
  padding: 0.6rem 1.4rem;
  font-weight: bold;
  border-radius: 8px;
  text-decoration: none;
  transition: background-color 0.2s ease, transform 0.2s ease;
}

.btn-ver-mas:hover {
  background-color: #00b44a;
  transform: scale(1.05);
}

/* === GRID DE JUEGOS === */
.juegos-contenedor {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 2rem;
}

/* === TARJETA DE JUEGO === */
.juego-card {
  background-color: #1e1e1e;
  border-radius: 12px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.juego-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
}

/* === IMAGEN DE JUEGO === */
.juego-imagen {
  width: 100%;
  height: 200px;
  object-fit: cover;
  display: block;
}

/* === INFORMACI√ìN DEL JUEGO === */
.juego-info {
  padding: 1rem;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  color: #ffffff;
}

.juego-titulo {
  font-size: 1.3rem;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.juego-descripcion {
  font-size: 1rem;
  color: #ccc;
  margin-bottom: 1rem;
  flex-grow: 1;
}

/* === PIE DE TARJETA === */
.juego-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* === PRECIO === */
.juego-precio {
  font-weight: bold;
  font-size: 1rem;
  padding: 0.4rem 0.7rem;
  border-radius: 6px;
}

.juego-precio.gratis {
  background-color: #2e7d32;
  color: #a5d6a7;
}

.juego-precio.pago {
  background-color: #b71c1c;
  color: #ef9a9a;
}

/* === BOT√ìN DE FAVORITO === */
.btn-favorito {
  background: none;
  border: none;
  color: #ff4081;
  font-size: 1.3rem;
  cursor: pointer;
  transition: transform 0.2s ease, color 0.2s ease;
}

.btn-favorito:hover {
  transform: scale(1.2);
  color: #f06292;
}

/* === RESPONSIVE (Pantallas peque√±as) === */
@media (max-width: 768px) {
  .content-preview h2 {
    font-size: 1.5rem;
  }

  .juego-imagen {
    height: 160px;
  }

  .juego-titulo {
    font-size: 1rem;
  }

  .juego-descripcion {
    font-size: 0.9rem;
  }

  .juego-precio {
    font-size: 0.9rem;
  }

  .btn-favorito {
    font-size: 1.1rem;
  }
}







/* ============================= */
/*       CONTENEDOR GENERAL      */
/* ============================= */
.juegos-contenedor {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 17px;
  padding: 10px;
  font-family: 'Times New Roman', Times, serif;
}

/* ============================= */
/*          TARJETA JUEGO        */
/* ============================= */
.juego-card, 
.game-card {
  background: #1f1f1f;
  border-radius: 12px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: relative;
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.5);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  cursor: pointer;
}

.juego-card:hover, 
.game-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.7);
}

/* Imagen */
.juego-portada, 
.game-card img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  display: block;
  transition: transform 0.3s ease;
}

.juego-card:hover .juego-portada,
.game-card:hover img {
  transform: scale(1.05);
}

/* ============================= */
/*         INFO DEL JUEGO        */
/* ============================= */
.juego-info, 
.game-card div {
  padding: 14px 16px;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

.juego-titulo, 
.game-card h3 {
  font-size: 1.1rem;
  font-weight: 700;
  color: #fff;
  margin-bottom: 6px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.juego-descripcion, 
.game-card p {
  font-size: 0.9rem;
  color: #bbb;
  line-height: 1.4;
  margin-bottom: 8px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.juego-info p, 
.game-card p {
  font-size: 0.85rem;
  color: #ccc;
  margin: 4px 0;
}

.juego-info strong {
  color: #4caf50;
  font-weight: 600;
}

.game-card p:last-child {
  font-weight: bold;
  color: #00ff99;
  font-size: 0.9rem;
  margin-top: 8px;
}

/* ============================= */
/*        BOT√ìN DE DESEO         */
/* ============================= */
.btn-deseo {
  position: absolute;
  top: 12px;
  right: 12px;
  background: rgba(255, 255, 255, 0.08);
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #fff;
  transition: background 0.3s ease, transform 0.2s ease;
}

.btn-deseo:hover {
  background: #e91e63;
  color: #fff;
  transform: scale(1.15);
}

.btn-deseo i {
  font-size: 18px;
  pointer-events: none;
}

/* ============================= */
/*           BOT√ìN VER M√ÅS       */
/* ============================= */
.btn-ver-mas {
  display: inline-block;
  margin: 10px 0 20px;
  padding: 8px 16px;
  background: #4caf50;
  color: #fff;
  font-weight: 600;
  text-decoration: none;
  border-radius: 6px;
  transition: background 0.3s ease;
}

.btn-ver-mas:hover {
  background: #45a049;
}

/* ============================= */
/*         RESPONSIVE            */
/* ============================= */
@media (max-width: 1024px) {
  .juegos-contenedor {
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 14px;
  }

  .juego-portada,
  .game-card img {
    height: 160px;
  }
}

@media (max-width: 600px) {
  .juegos-contenedor {
    grid-template-columns: 1fr 1fr;
    gap: 12px;
  }

  .juego-portada,
  .game-card img {
    height: 140px;
  }

  .juego-titulo,
  .game-card h3 {
    font-size: 1rem;
  }

  .juego-descripcion,
  .game-card p {
    font-size: 0.85rem;
  }
}









.ver-todos-juegos {
    background: #1a1a1a;
    text-align: center;
    padding: 25px 15px; /* M√°s compacto */
    border-radius: 10px;
    margin: 25px auto;
    max-width: 700px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.4);
}

.ver-todos-titulo {
    font-size: 22px; /* M√°s peque√±o */
    color: #fff;
    margin-bottom: 8px;
    font-weight: 600;
}

.ver-todos-descripcion {
    font-size: 14px;
    color: #bbb;
    margin-bottom: 18px;
    line-height: 1.4;
}

.btn-ver-todos {
    display: inline-block;
    padding: 10px 18px; /* Bot√≥n m√°s peque√±o */
    background: linear-gradient(135deg, #00ff99, #00cc88);
    color: #1a1a1a;
    font-size: 14px;
    font-weight: bold;
    border-radius: 6px;
    text-decoration: none;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.btn-ver-todos:hover {
    transform: scale(1.06);
    box-shadow: 0 4px 12px rgba(0, 255, 153, 0.3);
}


</style>
</head>
<body>
<nav class="navbar">
    <!-- Secci√≥n Izquierda: Logo -->
    <div class="navbar-logo">
        <img src="../assets/img/logo.png" alt="Logo de TakumiNet">
    </div>

    <!-- Secci√≥n Central: Enlaces de navegaci√≥n -->
    <ul class="nav-links">
      <li><a href="index.html" class="active" aria-current="page"><i class="fas fa-home"></i> <span data-i18n="inicio">Inicio</span></a></li>
      <li><a href="marketplace.html"><i class="fas fa-store"></i> <span data-i18n="tienda">Tienda</span></a></li>
      <li><a href="game jam.html"><i class="fas fa-calendar-alt"></i> <span data-i18n="game_jams">Game Jams</span></a></li>
      <li><a href="centro-aprendiz.html"><i class="fas fa-graduation-cap"></i> <span data-i18n="tutoriales">Tutoriales</span></a></li>
      <li><a href="ranking.html"><i class="fas fa-newspaper"></i> <span data-i18n="Noticias">Noticias</span></a></li>
      <li><a href="comunidad.html"><i class="fas fa-users"></i> <span data-i18n="comunidad">Comunidad</span></a></li>
    </ul>

    <!-- Secci√≥n Derecha: Elementos interactivos -->
    <div class="nav-right">
      <!-- B√∫squeda -->
      <form class="search-box" role="search">
        <input type="search" class="search-input" placeholder="Buscar juegos, usuarios..." aria-label="Buscar en el sitio" data-i18n="buscar" data-i18n-type="placeholder">
        <button type="submit" class="search-btn" aria-label="Ejecutar b√∫squeda">
          <i class="fas fa-search"></i>
        </button>
      </form>

      <!-- Iconos de notificaciones -->
      <div class="nav-icons">
        <div class="notification-wrapper">
          <button class="icon-btn notification-btn" onclick="toggleNotifications()" aria-haspopup="true" aria-expanded="false" aria-label="Notificaciones">
            <i class="fas fa-bell"></i>
            <span class="notification-badge" id="notificationBadge" aria-live="polite">0</span>
          </button>

          <!-- Men√∫ desplegable de notificaciones -->
          <div class="dropdown-menu notification-dropdown" id="notificationDropdown" role="menu" aria-hidden="true" style="display:none;">
            <div class="dropdown-header">
              <h4 class="dropdown-title" data-i18n="notificaciones">Notificaciones</h4>
              <button class="mark-read" id="markReadBtn" data-i18n="ver_todas">Marcar todas como le√≠das</button>
            </div>

            <div class="notifications-list" id="notificationsList">
              <!-- Aqu√≠ se insertar√°n las notificaciones din√°micamente -->
            </div>
            <div class="dropdown-footer">
              <a href="/notificaciones" class="view-all" data-i18n="ver_todas">Ver todas</a>
            </div>
          </div>
        </div>

        <!-- Carrito de compras -->
        <div class="icon-btn cart-btn" aria-label="Carrito de compras" role="button" tabindex="0" onclick="toggleCart()">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-badge" aria-live="polite">5</span>
        </div>

        <!-- Men√∫ de usuario -->
        <div class="user-menu">
          <button class="user-profile" aria-haspopup="true" aria-expanded="false" onclick="toggleUserMenu()">
            <div class="avatar">
              <i class="fas fa-user"></i>
            </div>
            <span class="username" id="mostrarNombre">Invitado</span>
          </button>

          <!-- Men√∫ desplegable de usuario -->
          <div class="user-dropdown" id="userDropdown" role="menu" aria-hidden="true">
            <div class="dropdown-group">
              <a href="perfil del usuario.html" class="menu-item"><i class="fas fa-user"></i><span data-i18n="perfil">Perfil</span></a>
              <a href="mis juegos.html" class="menu-item"><i class="fas fa-gamepad"></i><span data-i18n="mis_juegos">Mis Juegos</span></a>
              <a href="juegos favoritos.html" class="menu-item"><i class="fas fa-heart"></i><span data-i18n="favoritos">Favoritos</span></a>
              <a href="Creator Dashboard.html" class="menu-item"><i class="fas fa-tachometer-alt"></i><span data-i18n="dashboard">Dashboard</span></a>
              <a href="subir_juegos.html" class="menu-item"><i class="fas fa-upload"></i><span data-i18n="subir_juego">Subir Juego</span></a>
            </div>
            <div class="dropdown-group">
              <a href="biblioteca.html" class="menu-item"><i class="fas fa-book"></i><span data-i18n="biblioteca">Biblioteca</span></a>
              <a href="descarga.html" class="menu-item"><i class="fas fa-download"></i><span data-i18n="descargas">Descargas</span></a>
            </div>
            <hr class="divider">
            <div class="dropdown-group">
              <a href="configuracion.html" class="menu-item"><i class="fas fa-cog"></i><span data-i18n="configuracion">Configuraci√≥n</span></a>
              <a href="perfil-editar.html" class="menu-item"><i class="fas fa-user-edit"></i><span data-i18n="editar_usuario">Editar Usuario</span></a>
              <a href="pagos-desarrollador.html" class="menu-item"><i class="fas fa-star"></i><span data-i18n="suscripcion">Suscripci√≥n</span></a>
              <a href="seguidos.html" class="menu-item"><i class="fas fa-heart"></i><span data-i18n="seguidos">Seguidos</span></a>
            </div>
            <hr class="divider">
            <div class="dropdown-group">
              <button class="menu-item logout"><i class="fas fa-sign-out-alt"></i><span data-i18n="cerrar_sesion">Cerrar Sesi√≥n</span></button>
            </div>
          </div>
        </div>
      </div>
    </div>
</nav>



<section class="large_promo_section">
    <div class="promo-content">
        <h1 data-i18n="bienvenida">¬°Bienvenido a TakumiNet!</h1>
        <p data-i18n="descripcion">Descubre, comparte y disfruta los mejores juegos indie.</p>
        <a href="Creator Dashboard.html" class="promo-btn" data-i18n="boton-publicar">Publica tu juego aqu√≠</a>
    </div>
</section>


<main class="juegos-contenedor">
  <!-- Juegos destacados -->
  <div class="content-preview">
    <h2 data-i18n="juegos_destacados">Juegos destacados</h2>
    <a href="marketplace.html" class="btn-ver-mas" id="btn-ver-mas-destacados" data-i18n="ver_mas">Ver m√°s</a>
    <div class="juegos-contenedor" id="juegos-destacados"></div>
  </div>

  <!-- Juegos recomendados -->
  <div class="content-preview">
    <h2 data-i18n="recomendados">Recomendados</h2>
    <a href="marketplace.html" class="btn-ver-mas" id="btn-ver-mas-recomendados" data-i18n="ver_mas">Ver m√°s</a>
    <div class="juegos-contenedor" id="juegos-recomendados"></div>
  </div>

  <!-- Juegos Gratis -->
  <div class="content-preview">
    <h2 data-i18n="juegos_gratis">Juegos Gratis</h2>
    <a href="marketplace.html" class="btn-ver-mas" id="btn-ver-mas-gratis" data-i18n="ver_mas">Ver m√°s</a>
    <div class="juegos-contenedor" id="juegos-gratis"></div>
  </div>

  <!-- Juegos de Pago -->
  <div class="content-preview">
    <h2 data-i18n="juegos_pago">Juegos de Pago</h2>
    <a href="marketplace.html" class="btn-ver-mas" id="btn-ver-mas-pagos" data-i18n="ver_mas">Ver m√°s</a>
    <div class="juegos-contenedor" id="juegos-pagos"></div>
  </div>

  <!-- M√°s Juegos Seleccionados -->
  <div class="content-preview">
    <h2 data-i18n="mas_seleccionados">M√°s juegos seleccionados</h2>
    <a href="marketplace.html" class="btn-ver-mas" id="btn-ver-mas-seleccionados" data-i18n="ver_mas">Ver m√°s</a>
    <div class="juegos-contenedor" id="juegos-seleccionados"></div>
  </div>

  <!-- üîΩ SECCI√ìN FINAL: VER TODOS LOS JUEGOS -->
  <div class="ver-todos-juegos">
    <h2 class="ver-todos-titulo" data-i18n="explorar_titulo">¬øQuieres explorar m√°s juegos?</h2>
    <p class="ver-todos-descripcion" data-i18n="explorar_descripcion">
      Visita nuestra tienda completa y descubre todos los t√≠tulos disponibles.
    </p>
    <a href="marketplace.html" class="btn-ver-todos" data-i18n="ver_todos_juegos">
      Ver todos los juegos ‚Üí
    </a>
  </div>
</main>




<footer class="site-footer">
  <div class="footer-content">

    <!-- Redes sociales -->
    <div class="footer-social">
      <a href="https://twitter.com/takuminet" target="_blank" aria-label="Twitter">
        <i class="fab fa-twitter"></i>
      </a>
      <a href="https://facebook.com/takuminet" target="_blank" aria-label="Facebook">
        <i class="fab fa-facebook-f"></i>
      </a>
      <a href="https://instagram.com/takuminet" target="_blank" aria-label="Instagram">
        <i class="fab fa-instagram"></i>
      </a>
    </div>

    <!-- Enlaces principales -->
    <nav class="footer-links">
      <a href="../footer-pages/acerca.html" data-i18n="acerca">Acerca de</a>
      <a href="../footer-pages/faq.html" data-i18n="faq">FAQ</a>
      <a href="../footer-pages/blog.html" data-i18n="blog">Blog</a>
      <a href="../footer-pages/Contacto.html" data-i18n="contacto">Contacto</a>
    </nav>

    <!-- Informaci√≥n legal -->
    <div class="footer-legal">
      <span>¬© 2025 TakumiNet</span>
      <a href="../footer-pages/terminos.html" data-i18n="terminos" target="_blank">T√©rminos</a>
      <a href="../footer-pages/privacidad.html" data-i18n="privacidad" target="_blank">Privacidad</a>
      <a href="../footer-pages/cookies.html" data-i18n="cookies" target="_blank">Cookies</a>
      <a href="../footer-pages/contenido.html" data-i18n="contenido" target="_blank">Contenido</a>
      <a href="../footer-pages/desarrolladores.html" data-i18n="guiaDevs" target="_blank">Gu√≠a Devs</a>
    </div>

  </div>
</footer>


<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>

</section>
<script src="../js/notificacion.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dexie@3.2.3/dist/dexie.min.js"></script>
<script src="../js/carrito.js"></script>
<script src="../js/user.js"></script>
<script src="../js/desplegar.js"></script>
<script src="../js/cerrar sesion.js"></script>
<script src="../js/discorduser.js"></script>
<script src="../js/usario.js"></script>
<script src="../main.js"></script>
<script src="../js/i18n.js"></script>



<script src="https://cdn.jsdelivr.net/npm/dexie@3.2.3/dist/dexie.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    console.log('‚úÖ Cargando juegos en secciones...');

    // Abrir conexi√≥n a IndexedDB
    const request = indexedDB.open('GamesDB', 2); // aseg√∫rate de mantener esta versi√≥n para que onupgradeneeded se dispare si es nuevo

    request.onerror = () => console.error('‚ùå No se pudo abrir la base de datos.');

    request.onupgradeneeded = (event) => {
        const db = event.target.result;
        console.log('‚öôÔ∏è Actualizando o creando la base de datos...');

        // Crea las object stores si no existen
        if (!db.objectStoreNames.contains('games')) {
            db.createObjectStore('games', { keyPath: 'id' });
            console.log('üì¶ Store "games" creada');
        }

        if (!db.objectStoreNames.contains('gameImages')) {
            db.createObjectStore('gameImages', { keyPath: 'id' });
            console.log('üñºÔ∏è Store "gameImages" creada');
        }
    };

    request.onsuccess = (event) => {
        const db = event.target.result;
        cargarSecciones(db);
    };

    // Tu funci√≥n cargarSecciones queda igual...
    function cargarSecciones(db) {
        const tx = db.transaction(['games', 'gameImages'], 'readonly');
        const gamesStore = tx.objectStore('games');
        const imagesStore = tx.objectStore('gameImages');

        const juegos = [];

        gamesStore.openCursor().onsuccess = (e) => {
            const cursor = e.target.result;
            if (cursor) {
                juegos.push(cursor.value);
                cursor.continue();
            } else {
                if (juegos.length === 0) {
                    mostrarMensajeVacio();
                    return;
                }

                mostrarJuegos(juegos, 'juegos-destacados', 4);
                mostrarJuegosAleatorios(juegos, 'juegos-recomendados', 4);
                mostrarJuegosPorPrecio(juegos, 'juegos-gratis', 'gratis', 4);
                mostrarJuegosPorPrecio(juegos, 'juegos-pagos', 'pago', 4);
                mostrarJuegosAleatorios(juegos, 'juegos-seleccionados', 4);
            }
        };

        function mostrarMensajeVacio() {
            const secciones = document.querySelectorAll('.juegos-contenedor');
            secciones.forEach(sec => sec.innerHTML = '<p>No hay juegos disponibles.</p>');
        }

        function mostrarJuegos(lista, contenedorId, max) {
            const contenedor = document.getElementById(contenedorId);
            contenedor.innerHTML = '';
            const subset = lista.slice(0, max);
            subset.forEach(game => crearCard(game, contenedor));
        }

        function mostrarJuegosAleatorios(lista, contenedorId, max) {
            const contenedor = document.getElementById(contenedorId);
            contenedor.innerHTML = '';
            const shuffled = [...lista].sort(() => 0.5 - Math.random());
            shuffled.slice(0, max).forEach(game => crearCard(game, contenedor));
        }

        function mostrarJuegosPorPrecio(lista, contenedorId, tipo, max) {
            const contenedor = document.getElementById(contenedorId);
            contenedor.innerHTML = '';
            const filtrados = lista.filter(g => (tipo === 'gratis' ? g.pricing === 'gratis' : g.pricing !== 'gratis'));
            const subset = filtrados.slice(0, max);
            subset.forEach(game => crearCard(game, contenedor));
        }

        function crearCard(game, contenedor) {
            const imgRequest = imagesStore.get(game.id);
            imgRequest.onsuccess = () => {
                const imgData = imgRequest.result;
                const portada = imgData?.cover ? imgData.cover.base64 : 'https://via.placeholder.com/300x180?text=Sin+Imagen';

                const card = document.createElement('div');
                card.className = 'game-card';
                card.style.cursor = 'pointer';
                card.addEventListener('click', () => {
                    window.location.href = `perfil-juegos.html?id=${game.id}`;
                });

                card.innerHTML = `
                    <img src="${portada}" alt="Portada" width="100%" height="140" style="object-fit:cover;">
                    <div>
                        <h3>${game.title}</h3>
                        <p>${game.category || 'Sin categor√≠a'}</p>
                        <p>${game.description.length > 40 ? game.description.substring(0, 40) + '...' : game.description}</p>
                        <p>${game.pricing === 'gratis' ? 'Gratis' : `$${game.price.toFixed(2)}`}</p>
                    </div>
                `;

                contenedor.appendChild(card);
            };
        }
    }
});


</script>
</body>
</html>